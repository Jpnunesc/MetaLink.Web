<p-breadcrumb
  class="max-w-full row"
  [model]="[{ label: 'Clientes' }, { label: 'Listar' }]"
  [home]="{ icon: 'bi bi-person-add', routerLink: 'private/customer/list' }"
/>
<div class="filter-container">
  <form [formGroup]="formGroup" (ngSubmit)="getCustomer()">
    <div class="form-group row">
      <div class="col text-end">
        <button type="submit" class="btn btn-info" routerLink="../create">
          Cadastrar
        </button>
      </div>
    </div>
    <div class="form-group row mb-4">
      <div class="col-12 col-sm-6 col-md-4">
        <label for="name">Nome Completo</label>
        <input
          id="name"
          type="text"
          formControlName="name"
          class="form-control"
        />
      </div>
      <div class="col-12 col-sm-6 col-md-4">
        <label for="email">Email</label>
        <input
          id="email"
          type="email"
          formControlName="email"
          class="form-control"
        />
      </div>
      <div class="col-12 col-sm-6 col-md-4">
        <label for="phoneNumber">Telefone</label>
        <input
          id="phoneNumber"
          type="text"
          formControlName="phoneNumber"
          class="form-control"
        />
      </div>
    </div>
    <div class="form-group row mb-4">
      <div class="col-12 col-sm-6 col-md-4">
        <label for="documentType">Tipo de Documento</label>
        <input
          id="documentType"
          type="text"
          formControlName="documentType"
          class="form-control"
        />
      </div>
      <div class="col-12 col-sm-6 col-md-4">
        <label for="cpfCnpj">CPF/CNPJ</label>
        <input
          id="cpfCnpj"
          type="text"
          formControlName="cpfCnpj"
          class="form-control"
        />
      </div>
      <div class="col-12 col-sm-6 col-md-4">
        <label for="status">Status</label>
        <select id="status" formControlName="status" class="form-control">
          <option *ngFor="let status of statusList" [value]="status.value">
            {{ status.label }}
          </option>
        </select>
      </div>
    </div>
    <div class="form-group row">
      <div class="col text-end">
        <button type="submit" class="btn btn-success">Pesquisar</button>
      </div>
    </div>
  </form>
</div>

<p-table
  [value]="customerList()"
  [paginator]="true"
  [rows]="5"
  [tableStyle]="{ 'min-width': '50rem' }"
  [rowsPerPageOptions]="[5, 10, 20]"
>
  <ng-template pTemplate="header">
    <tr>
      <th>Nome Completo</th>
      <th>Email</th>
      <th>Telefone</th>
      <th>Cpf / CNPJ</th>
      <th>Status</th>
      <th>Data de Registro</th>
      <th>Último pagamento</th>
      <th>Ações</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-customer>
    <tr>
      <td>{{ customer.name }}</td>
      <td>{{ customer.email }}</td>
      <td>{{ customer.phoneNumber }}</td>
      <td>{{ customer.cpfCnpj }}</td>
      <td>{{ customer.status }}</td>
      <td>{{ customer.dateRegister | date }}</td>
      <td>{{ customer.lastPaymentDate | date }}</td>
      <td>
        <button class="btn btn-primary" (click)="onEdit(customer.idUser)">
          Editar
        </button>
        <button class="btn btn-danger" (click)="onDelete(customer.idUser)">
          Excluir
        </button>
      </td>
    </tr>
  </ng-template>
</p-table>
